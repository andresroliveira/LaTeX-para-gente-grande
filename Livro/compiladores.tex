\chapter{Compiladores e Fontes}

\section{Compiladores}

%Neste capítulo, vamos abordar os compiladores de \LaTeX. Mas antes, precisamos entender o que é um compilador.

% Um compilador é um programa que traduz um código de uma linguagem de programação para outra. Um exemplo dissos são os compiladores de C, que traduzem o código escrito em C para código de máquina, que pode ser executado pelo computador.

% Um compilador é um programa que lê um programa escrito em uma linguagem - a linguagem de origem - e o traduz para um programa equivalente em outra linguagem - a linguagem de destino. Como uma parte importante desse processo de tradução, o compilador relata ao seu usuário a presença de erros no programa de origem

Um compilador é um programa que recebe como entrada um código escrito em uma determinada linguagem, chamada de linguagem fonte, e o converte em um código equivalente em outra linguagem, conhecida como linguagem alvo. Durante essa conversão, uma etapa das etapas do compilador é identificar e informar ao usuário sobre possíveis erros no código fonte. A figura \ref{fig:compilador} ilustra o processo de compilação.
\cite{aho1977principles}.

\begin{figure}[H]
	\centering

	\begin{tikzpicture}
		\node[draw, rectangle, minimum width=3cm, minimum height=1cm] (source) at (0, 4) {Código fonte};
		\node[draw, rectangle, minimum width=3cm, minimum height=1cm] (computer) at (0, 2) {Compilador};
		\node[draw, rectangle, minimum width=3cm, minimum height=1cm] (target) at (0, 0) {Código alvo};
		\node[draw, rectangle, minimum width=3cm, minimum height=1cm] (error) at (4, 2) {Erros};

    \draw[->] (source) -- (computer);
    \draw[->] (computer) -- (target);
    \draw[->] (computer.east) -- (error.west);
\end{tikzpicture}

	\caption{Processo de compilação. Adaptado de \cite{aho1977principles}.}
	\label{fig:compilador}
\end{figure}

Assim como os compiladores tradicionais, os compiladores de TeX e LaTeX também seguem um processo de conversão de código fonte para um formato de saída, geralmente um documento. No entanto, em vez de traduzir para uma linguagem de programação de baixo nível, esses compiladores transformam comandos e textos escritos em linguagens de marcação (como TeX ou LaTeX) em documentos formatados, com layout profissional e tipografia de alta qualidade. Durante esse processo, o compilador também identifica erros no código fonte, como comandos mal formados ou referências indefinidas, e os reporta ao usuário para correção.

\subsection{Compiladores de \LaTeX}

Existem vários compiladores de \LaTeX, que são programas que traduzem o código \LaTeX\ para um documento, como por exemplo um arquivo PDF. Alguns exemplos de compiladores de \LaTeX são:

\begin{itemize}
	\item \textbf{latex}: Compila o código \LaTeX para um arquivo DVI.
	\item \textbf{pdflatex}: Compila o código \LaTeX para um arquivo PDF.
	\item \textbf{xelatex}: Compila o código \LaTeX para um arquivo PDF, mas com suporte a fontes do sistema.
	\item \textbf{lualatex}: Compila o código \LaTeX para um arquivo PDF, mas com suporte a linguagem Lua.
\end{itemize}

Para compilar um documento em \LaTeX, basta executar um desses compiladores no arquivo \texttt{.tex}.

Conside o seguinte arquivo \texttt{oi\_mundo.tex}, no código \ref{cod:oi_mundo}.

\begin{lstlisting}[language={[latex]TeX}, caption={oi\_mundo.tex}, label=cod:oi_mundo]
\documentclass{article}
\begin{document}
Oi, mundo!
\end{document}
\end{lstlisting}


Ao executar o comando \texttt{pdflatex oi\_mundo.tex}, o arquivo \texttt{oi\_mundo.pdf} será gerado. O conteúdo do arquivo \texttt{oi\_mundo.pdf} será:



% \begin{figure}[H]
% 	\centering
% 	\includegraphics[width=0.5\textwidth]{imagens/oi_mundo.png}
% 	\caption{oi\_mundo.pdf}
% \end{figure}



Outra forma de compilar um documento em \LaTeX é utilizando \texttt{latexmk}. O Latexmk automatiza completamente o processo de compilação de um documento LaTeX. Essencialmente, ele funciona como um parente especializado da ferramenta geral make, mas com a vantagem de determinar as dependências automaticamente e possuir outras funcionalidades muito úteis. No modo básico de operação, o Latexmk recebe o nome do arquivo principal de origem de um documento e executa a sequência apropriada de comandos para gerar uma versão em .dvi, .ps, .pdf e/ou uma cópia impressa do documento.


\section{Documentação}

Além dos compiladores de \LaTeX, as distribuições de \LaTeX também contêm documentação sobre o \LaTeX. Essa documentação pode ser acessada através do comando \texttt{texdoc}.

Por exemplo, para acessar a documentação de qualquer pacote, por exemplo o pacote \texttt{graphicx}, basta executar o comando \texttt{texdoc graphicx}.

Para ver a documentação do próprio \texttt{texdoc}, basta executar o comando \texttt{texdoc texdoc}.
